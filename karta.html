<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞—Ä—Ç–∞ –ß—É—Ö–ª–æ–º—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }

    nav {
      background-color: #004080;
    }

    nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
      margin: 0;
      padding: 0;
      gap: 20px;
    }

    nav ul li {
      position: relative;
    }

    nav ul li a {
      display: block;
      padding: 12px 20px;
      color: white;
      text-decoration: none;
      font-weight: bold;
    }

    nav ul li a:hover {
      background-color: #0066cc;
    }

    nav ul li ul {
      display: none;
      position: absolute;
      background-color: #004080;
      list-style: none;
      padding: 0;
      margin: 0;
      top: 100%;
      left: 0;
    }

    nav ul li:hover ul {
      display: block;
    }

    nav ul li ul li a {
      white-space: nowrap;
    }

    #map {
      width: 100%;
      height: calc(100% - 50px); /* —É—á—ë—Ç –≤—ã—Å–æ—Ç—ã –º–µ–Ω—é */
    }

    #toggleOverlay {
      position: absolute;
      top: 60px;
      left: 10px;
      background: rgba(255,255,255,0.95);
      padding: 10px;
      border-radius: 8px;
      z-index: 1000;
    }
  </style>
</head>
<body>

<!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–µ–Ω—é -->
<nav>
  <ul>
    <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
    <li><a href="history.html">–ò—Å—Ç–æ—Ä–∏—è</a></li>
    <li>
      <a href="#">–•—Ä–∞–º—ã</a>
      <ul>
        <li><a href="mirohanovo.html">—Å. –ú–∏—Ä–æ—Ö–∞–Ω–æ–≤–æ</a></li>
        <li><a href="povalihino.html">—Å. –ü–æ–≤–∞–ª–∏—Ö–∏–Ω–æ</a></li>
        <li><a href="church_rizo.html">–•—Ä–∞–º –†–∏–∑–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</a></li>
        <li><a href="church_vlad.html">–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è —Ü–µ—Ä–∫–æ–≤—å</a></li>
        <li><a href="hicolo_church.html">–ù–∏–∫–æ–ª–æ-–û—Å—Ç—Ä–æ–≤</a></li>
      </ul>
    </li>
    <li><a href="karta.html">–ö–∞—Ä—Ç–∞</a></li>
    <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
  </ul>
</nav>

<!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ª–æ—è -->
<div id="toggleOverlay">
  <label><input type="checkbox" id="historicalToggle"> –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (XIX –≤.)</label>
</div>

<div id="map"></div>

<script>
ymaps.ready(function () {
  const map = new ymaps.Map("map", {
    center: [58.83, 43.74],
    zoom: 11,
    controls: ['zoomControl', 'fullscreenControl']
  });

  // –¢–æ—á–∫–∏ –¥–µ—Ä–µ–≤–µ–Ω—å
  const settlements = [
    { name: "–ú–∏—Ä–æ—Ö–∞–Ω–æ–≤–æ", coords: [58.8567, 43.7188] },
    { name: "–ü–æ–≤–∞–ª–∏—Ö–∏–Ω–æ", coords: [58.8476, 43.6645] },
    { name: "–ñ—É–∫–æ–≤–æ", coords: [58.7955, 43.7944] },
    { name: "–û–∑–æ—Ä–Ω–∏–∫–æ–≤–æ", coords: [58.8250, 43.6500] },
    { name: "–í–æ–∑–Ω–µ—Å–µ–Ω—Å–∫–æ–µ", coords: [58.8428, 43.7521] },
    { name: "–ù–∏–∫–æ–ª–æ-–û—Å—Ç—Ä–æ–≤", coords: [58.8768, 43.6051] },
    { name: "–õ–∞–≤—Ä–µ–Ω—Ç—å–µ–≤—Å–∫–æ–µ", coords: [58.7805, 43.7252] }
  ];

  settlements.forEach(place => {
    const placemark = new ymaps.Placemark(place.coords, {
      iconCaption: place.name,
      balloonContent: `<strong>${place.name}</strong>`
    }, {
      preset: 'islands#blueCircleDotIconWithCaption'
    });

    map.geoObjects.add(placemark);
  });

  // –ù–∞–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç—ã
  const bounds = [[58.6, 43.3], [59.0, 44.0]];

  const overlay = new ymaps.GroundOverlay(
    "kostroma_map.jpg", // üî• –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ
    bounds,
    { opacity: 0.6, interactive: false }
  );

  document.getElementById('historicalToggle').addEventListener('change', function () {
    if (this.checked) {
      map.geoObjects.add(overlay);
    } else {
      map.geoObjects.remove(overlay);
    }
  });
});
</script>

</body>
</html>
